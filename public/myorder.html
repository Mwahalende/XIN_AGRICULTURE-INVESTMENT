<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Orders - XIN Agricultural Investment</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
  <link rel="stylesheet" href="https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
  <script src="https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js"></script>
  <style>
    :root {
      --primary: #28a745;
      --secondary: #007bff;
      --danger: #dc3545;
      --warning: #ffc107;
      --info: #17a2b8;
      --light: #f8f9fa;
      --dark: #343a40;
      --success: #28a745;
      --white: #ffffff;
      --gray-100: #f8f9fa;
      --gray-200: #e9ecef;
      --gray-300: #dee2e6;
      --gray-800: #495057;
      --shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
      --shadow-lg: 0 1rem 3rem rgba(0, 0, 0, 0.175);
      --bg-color: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --text-color: #343a40;
      --card-bg: #ffffff;
      --navbar-bg: rgba(255, 255, 255, 1);
      --border-color: var(--gray-300);
    }

    [data-theme='dark'] {
      --bg-color: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
      --text-color: #f0f0f0;
      --card-bg: #1e1e1e;
      --navbar-bg: rgba(30, 30, 30, 1);
      --gray-100: #2a2a2a;
      --gray-200: #333;
      --gray-300: #444;
      --border-color: #555;
      --white: #f0f0f0;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--bg-color);
      min-height: 100vh;
      color: var(--text-color);
      transition: all 0.3s ease;
    }

    .navbar {
      background: var(--navbar-bg);
      padding: 1rem 2rem;
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .navbar-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 1.5rem;
      font-weight: bold;
      color: var(--primary);
      text-decoration: none;
    }

    .nav-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .theme-toggle {
      background: var(--gray-100);
      border: 2px solid var(--gray-300);
      padding: 0.5rem;
      border-radius: 0.5rem;
      cursor: pointer;
      font-size: 1.2rem;
      transition: all 0.3s ease;
      color: var(--text-color);
    }

    .theme-toggle:hover {
      background: var(--primary);
      border-color: var(--primary);
      color: var(--white);
      transform: scale(1.1);
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      background: var(--primary);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--white);
      font-weight: bold;
    }

    .btn {
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 0.375rem;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      transition: all 0.3s ease;
      font-weight: 500;
      text-align: center;
    }

    .btn-primary {
      background: var(--primary);
      color: var(--white);
    }

    .btn-primary:hover {
      background: #218838;
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: var(--secondary);
      color: var(--white);
    }

    .btn-secondary:hover {
      background: #0056b3;
    }

    .btn-danger {
      background: var(--danger);
      color: var(--white);
    }

    .btn-danger:hover {
      background: #c82333;
    }

    .btn-outline {
      background: transparent;
      border: 2px solid var(--primary);
      color: var(--primary);
    }

    .btn-outline:hover {
      background: var(--primary);
      color: var(--white);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    .page-header {
      background: var(--white);
      padding: 2rem;
      border-radius: 1rem;
      margin-bottom: 2rem;
      box-shadow: var(--shadow-lg);
      text-align: center;
    }

    .page-header h1 {
      color: var(--primary);
      margin-bottom: 0.5rem;
      font-size: 2.5rem;
    }

    .page-header p {
      color: var(--gray-800);
      font-size: 1.1rem;
    }

    .orders-container {
      background: var(--white);
      border-radius: 1rem;
      padding: 2rem;
      box-shadow: var(--shadow-lg);
    }

    .orders-grid {
      display: grid;
      gap: 1.5rem;
    }

    .order-card {
      background: var(--gray-100);
      border-radius: 0.75rem;
      padding: 1.5rem;
      border-left: 4px solid var(--primary);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .order-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }

    .order-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
    }

    .order-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .order-id {
      font-size: 0.9rem;
      color: var(--gray-800);
      background: var(--white);
      padding: 0.25rem 0.5rem;
      border-radius: 0.25rem;
    }

    .order-status {
      padding: 0.25rem 0.75rem;
      border-radius: 1rem;
      font-size: 0.85rem;
      font-weight: bold;
      text-transform: uppercase;
    }

    .status-pending {
      background: #fff3cd;
      color: #856404;
    }

    .status-approved {
      background: #d4edda;
      color: #155724;
    }

    .order-details {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .product-info h3 {
      color: var(--dark);
      margin-bottom: 0.5rem;
      font-size: 1.25rem;
    }

    .order-meta {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .meta-item {
      display: flex;
      flex-direction: column;
    }

    .meta-label {
      font-size: 0.8rem;
      color: var(--gray-800);
      text-transform: uppercase;
      font-weight: 600;
    }

    .meta-value {
      font-size: 1.1rem;
      font-weight: bold;
      color: var(--dark);
    }

    .order-actions {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .order-date {
      font-size: 0.9rem;
      color: var(--gray-800);
      margin-top: 1rem;
    }

    .empty-state {
      text-align: center;
      padding: 4rem 2rem;
    }

    .empty-state-icon {
      font-size: 4rem;
      color: var(--gray-300);
      margin-bottom: 1rem;
    }

    .empty-state h3 {
      color: var(--gray-800);
      margin-bottom: 0.5rem;
    }

    .empty-state p {
      color: var(--gray-800);
      margin-bottom: 2rem;
    }

    .loading {
      text-align: center;
      padding: 2rem;
    }

    .spinner {
      border: 4px solid var(--gray-200);
      border-top: 4px solid var(--primary);
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 0 auto 1rem;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background: var(--white);
      margin: 10% auto;
      padding: 2rem;
      border-radius: 1rem;
      width: 90%;
      max-width: 500px;
      position: relative;
      animation: modalSlideIn 0.3s ease;
    }

    @keyframes modalSlideIn {
      from { transform: translateY(-50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .modal-header h3 {
      color: var(--primary);
    }

    .close {
      font-size: 2rem;
      cursor: pointer;
      color: var(--gray-800);
      background: none;
      border: none;
    }

    .close:hover {
      color: var(--danger);
    }

    .form-group {
      margin-bottom: 1rem;
    }

    .form-label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: var(--dark);
    }

    .form-input {
      width: 100%;
      padding: 0.75rem;
      border: 2px solid var(--gray-300);
      border-radius: 0.5rem;
      transition: border-color 0.3s ease;
    }

    .form-input:focus {
      outline: none;
      border-color: var(--primary);
    }

    @media (max-width: 768px) {
      .container {
        padding: 1rem;
      }
      
      .navbar-content {
        padding: 0 1rem;
      }
      
      .page-header h1 {
        font-size: 2rem;
      }
      
      .order-details {
        grid-template-columns: 1fr;
      }
      
      .order-actions {
        justify-content: center;
      }
      
      .meta-item {
        text-align: center;
      }
    }

    /* Footer Styles */
    .footer {
      background: linear-gradient(135deg, 
        var(--primary-color) 0%, 
        rgba(34, 197, 94, 0.9) 50%, 
        var(--accent-color) 100%);
      color: white;
      padding: 3rem 0 1rem;
      margin-top: 4rem;
      position: relative;
      overflow: hidden;
    }

    .footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="40" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="80" r="1.5" fill="rgba(255,255,255,0.1)"/></svg>');
      animation: float 20s infinite linear;
    }

    @keyframes float {
      0% { transform: translateX(0); }
      100% { transform: translateX(100px); }
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
      position: relative;
      z-index: 1;
    }

    .footer-section h3 {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
      color: white;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .footer-section p {
      line-height: 1.8;
      margin-bottom: 1rem;
      opacity: 0.9;
    }

    .footer-services {
      list-style: none;
      padding: 0;
    }

    .footer-services li {
      padding: 0.5rem 0;
      padding-left: 1.5rem;
      position: relative;
      opacity: 0.9;
    }

    .footer-services li::before {
      content: 'üå±';
      position: absolute;
      left: 0;
    }

    .footer-bottom {
      text-align: center;
      margin-top: 2rem;
      padding-top: 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
      opacity: 0.8;
    }

    .developer-credit {
      background: rgba(0, 0, 0, 0.2);
      padding: 1rem;
      border-radius: 10px;
      margin-top: 1rem;
      backdrop-filter: blur(10px);
    }

    .developer-credit strong {
      color: #ffd700;
      font-size: 1.1rem;
    }

    @media (max-width: 768px) {
      .footer-content {
        grid-template-columns: 1fr;
        gap: 2rem;
        padding: 0 1rem;
      }
      
      .footer {
        padding: 2rem 0 1rem;
      }
    }
  </style>
</head>
<body data-theme="light">
  <nav class="navbar">
    <div class="navbar-content">
      <a href="/index.html" class="logo">üå± XIN Agricultural Investment</a>
      <div class="nav-actions">
        <button class="theme-toggle" onclick="toggleTheme()">üåì</button>
        <div class="user-info">
          <div class="user-avatar" id="userAvatar">U</div>
          <span id="userEmail">Loading...</span>
          <a href="/index.html" class="btn btn-outline">Back to Shop</a>
        </div>
      </div>
    </div>
  </nav>

  <div class="container">
    <div class="page-header">
      <h1>My Orders</h1>
      <p>Track and manage your agricultural product orders</p>
    </div>

    <div class="orders-container">
      <div id="ordersContent">
        <div class="loading">
          <div class="spinner"></div>
          <p>Loading your orders...</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Edit Order Modal -->
  <div id="editModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Update Order</h3>
        <button class="close" onclick="closeEditModal()">&times;</button>
      </div>
      <form id="editForm">
        <div class="form-group">
          <label class="form-label">Product</label>
          <input type="text" id="editProduct" class="form-input" readonly>
        </div>
        <div class="form-group">
          <label class="form-label">Quantity</label>
          <input type="number" id="editQuantity" class="form-input" min="1" required>
        </div>
        <div class="form-group">
          <label class="form-label">Total Amount</label>
          <input type="text" id="editTotal" class="form-input" readonly>
        </div>
        <div class="order-actions">
          <button type="submit" class="btn btn-primary">Update Order</button>
          <button type="button" class="btn btn-secondary" onclick="closeEditModal()">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    function toggleTheme() {
      const body = document.body;
      const current = body.getAttribute("data-theme");
      const newTheme = current === "dark" ? "light" : "dark";
      body.setAttribute("data-theme", newTheme);
      localStorage.setItem('theme', newTheme);
    }

    // Load saved theme
    function loadTheme() {
      const savedTheme = localStorage.getItem('theme') || 'light';
      document.body.setAttribute('data-theme', savedTheme);
    }

    let currentUser = null;
    let orders = [];
    let currentEditOrder = null;

    // Get user from localStorage or redirect to login
    function getCurrentUser() {
      const user = localStorage.getItem('currentUser');
      if (user) {
        currentUser = JSON.parse(user);
        document.getElementById('userEmail').textContent = currentUser.email;
        document.getElementById('userAvatar').textContent = currentUser.name.charAt(0).toUpperCase();
        return true;
      } else {
        window.location.href = '/index.html';
        return false;
      }
    }

    // Load orders from server
    async function loadOrders() {
      if (!currentUser) return;
      
      try {
        const response = await fetch(`/myorders?email=${encodeURIComponent(currentUser.email)}`);
        orders = await response.json();
        displayOrders();
      } catch (error) {
        console.error('Error loading orders:', error);
        displayError('Failed to load orders. Please try again.');
      }
    }

    // Display orders in the UI
    function displayOrders() {
      const container = document.getElementById('ordersContent');
      
      if (orders.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">üì¶</div>
            <h3>No Orders Yet</h3>
            <p>You haven't placed any orders yet. Start shopping to see your orders here!</p>
            <a href="/index.html" class="btn btn-primary">Start Shopping</a>
          </div>
        `;
        return;
      }

      const ordersHTML = orders.map(order => {
        const orderDate = new Date(order.createdAt).toLocaleDateString('en-US', {
          year: 'numeric',
          month: 'long',
          day: 'numeric',
          hour: '2-digit',
          minute: '2-digit'
        });

        return `
          <div class="order-card">
            <div class="order-header">
              <div class="order-id">Order #${order._id.slice(-8)}</div>
              <div class="order-status status-${order.status.toLowerCase()}">
                ${order.status}
              </div>
            </div>
            <div class="order-details">
              <div class="product-info">
                <h3>${order.product}</h3>
                <div class="order-meta">
                  <div class="meta-item">
                    <span class="meta-label">Quantity</span>
                    <span class="meta-value">${order.quantity}</span>
                  </div>
                  <div class="meta-item">
                    <span class="meta-label">Total</span>
                    <span class="meta-value">Tsh ${order.amount.toLocaleString()}</span>
                  </div>
                  <div class="meta-item">
                    <span class="meta-label">Unit Price</span>
                    <span class="meta-value">Tsh ${(order.amount / order.quantity).toLocaleString()}</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="order-actions">
              <button class="btn btn-secondary" onclick="editOrder('${order._id}')">
                ‚úèÔ∏è Update Quantity
              </button>
              <button class="btn btn-danger" onclick="deleteOrder('${order._id}')">
                üóëÔ∏è Cancel Order
              </button>
            </div>
            <div class="order-date">Ordered on ${orderDate}</div>
          </div>
        `;
      }).join('');

      container.innerHTML = `<div class="orders-grid">${ordersHTML}</div>`;
    }

    // Edit order function
    async function editOrder(orderId) {
      const order = orders.find(o => o._id === orderId);
      if (!order) return;

      currentEditOrder = order;
      document.getElementById('editProduct').value = order.product;
      document.getElementById('editQuantity').value = order.quantity;
      
      // Calculate and display current total
      await updateEditTotal();
      
      document.getElementById('editModal').style.display = 'block';
    }

    // Update total in edit form
    async function updateEditTotal() {
      const quantity = parseInt(document.getElementById('editQuantity').value) || 0;
      if (currentEditOrder && quantity > 0) {
        try {
          // Get current product price
          const response = await fetch(`/product/${encodeURIComponent(currentEditOrder.product)}`);
          const product = await response.json();
          const total = product.amount * quantity;
          document.getElementById('editTotal').value = `Tsh ${total.toLocaleString()}`;
        } catch (error) {
          console.error('Error calculating total:', error);
        }
      }
    }

    // Close edit modal
    function closeEditModal() {
      document.getElementById('editModal').style.display = 'none';
      currentEditOrder = null;
    }

    // Delete order function
    async function deleteOrder(orderId) {
      if (!confirm('Are you sure you want to cancel this order?')) return;

      try {
        const response = await fetch('/deleteorder', {
          method: 'DELETE',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ orderId })
        });

        const result = await response.json();
        if (result.success) {
          showNotification('Order cancelled successfully!', 'success');
          loadOrders(); // Refresh orders
        } else {
          showNotification(result.message || 'Failed to cancel order', 'error');
        }
      } catch (error) {
        console.error('Error deleting order:', error);
        showNotification('Failed to cancel order. Please try again.', 'error');
      }
    }

    // Display error message
    function displayError(message) {
      document.getElementById('ordersContent').innerHTML = `
        <div class="empty-state">
          <div class="empty-state-icon">‚ö†Ô∏è</div>
          <h3>Error</h3>
          <p>${message}</p>
          <button class="btn btn-primary" onclick="loadOrders()">Try Again</button>
        </div>
      `;
    }

    // Show notification
    function showNotification(message, type = 'info') {
      // Create notification element
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${type === 'success' ? 'var(--success)' : 'var(--danger)'};
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 0.5rem;
        z-index: 1001;
        animation: slideIn 0.3s ease;
      `;
      notification.textContent = message;
      
      document.body.appendChild(notification);
      
      // Remove after 3 seconds
      setTimeout(() => {
        notification.remove();
      }, 3000);
    }

    // Event listeners
    document.addEventListener('DOMContentLoaded', () => {
      loadTheme(); // Load saved theme
      if (getCurrentUser()) {
        loadOrders();
      }
      
      // Initialize map
      initMap();

      // Edit form submission
      document.getElementById('editForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const quantity = parseInt(document.getElementById('editQuantity').value);
        if (!quantity || quantity < 1) {
          showNotification('Please enter a valid quantity', 'error');
          return;
        }

        try {
          const response = await fetch('/updateorder', {
            method: 'PUT',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              orderId: currentEditOrder._id,
              quantity: quantity
            })
          });

          const result = await response.json();
          if (result.success) {
            showNotification('Order updated successfully!', 'success');
            closeEditModal();
            loadOrders(); // Refresh orders
          } else {
            showNotification(result.message || 'Failed to update order', 'error');
          }
        } catch (error) {
          console.error('Error updating order:', error);
          showNotification('Failed to update order. Please try again.', 'error');
        }
      });

      // Real-time quantity calculation
      document.getElementById('editQuantity').addEventListener('input', updateEditTotal);

      // Close modal when clicking outside
      window.addEventListener('click', (e) => {
        const modal = document.getElementById('editModal');
        if (e.target === modal) {
          closeEditModal();
        }
      });
    });

    // Initialize Leaflet map
    function initMap() {
      // Coordinates for Isesa Primary School, Tanzania
      const lat = -8.018727985153813;
      const lng = 31.674437838394876;
      
      const map = L.map('map', {
        fullscreenControl: true,
        fullscreenControlOptions: {
          position: 'topleft'
        }
      }).setView([lat, lng], 15);
      
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '¬© OpenStreetMap contributors'
      }).addTo(map);
      
      // Add marker for XIN Agricultural Investment office
      L.marker([lat, lng]).addTo(map)
        .bindPopup('<b>üå± XIN Agricultural Investment</b><br>Located at Isesa Primary School<br>Near Maronje, Sumbawanga, Tanzania<br>üìû +255 741 131 500<br>üìß lwingageazi@gmail.com')
        .openPopup();
      
      // Add circle overlay around Isesa Primary School area (near Maronje)
      L.circle([lat, lng], {
        color: '#2E7D32',
        fillColor: '#4CAF50',
        fillOpacity: 0.3,
        radius: 200
      }).addTo(map).bindPopup('<b>Service Area</b><br>Isesa Primary School vicinity<br>Near Maronje, Sumbawanga');
      
      // Add a second circle for wider coverage area
      L.circle([lat, lng], {
        color: '#1976D2',
        fillColor: '#2196F3',
        fillOpacity: 0.1,
        radius: 500
      }).addTo(map).bindPopup('<b>Extended Coverage</b><br>Agricultural services available');
    }

    // Open Google Maps with coordinates
    function openGoogleMaps() {
      const lat = -8.018727985153813;
      const lng = 31.674437838394876;
      const url = `https://maps.google.com/?q=${lat},${lng}&z=15`;
      window.open(url, '_blank');
    }
  </script>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <h3>üåæ About XIN Agricultural Investment</h3>
        <p>
          XIN Agricultural Investment is a Tanzanian company specializing in the buying, selling, and distribution of all types of agricultural products. We work directly with farmers across Tanzania to source high-quality produce ‚Äî including fruits, vegetables, grains, seeds, and other farm products ‚Äî and make them easily accessible to consumers, retailers, and wholesalers.
        </p>
        <p>
          Our services cover the entire agricultural value chain ‚Äî from sourcing and packaging to logistics and delivery ‚Äî ensuring fresh, affordable, and reliable supply for every customer. At XIN, we are committed to promoting local agriculture, empowering farmers, and driving food security and economic growth across the country.
        </p>
        <div style="margin-top: 1.5rem; padding: 1rem; background: rgba(255, 255, 255, 0.1); border-radius: 0.5rem;">
          <p style="margin-bottom: 0.5rem;"><strong>üìß Email:</strong> lwingageazi@gmail.com</p>
          <p style="margin-bottom: 0.5rem;"><strong>üìû Phone:</strong> +255 741 131 500 (WhatsApp Available)</p>
          <p><strong>üìç Office Location:</strong> Isesa Primary School, Sumbawanga, Tanzania</p>
        </div>
      </div>

      <div class="footer-section">
        <h3>üó∫Ô∏è Our Location</h3>
        <div style="position: relative; margin-bottom: 1rem;">
          <div id="map" style="width: 100%; height: 300px; border-radius: 0.5rem; overflow: hidden;"></div>
          <div style="position: absolute; top: 10px; right: 10px; z-index: 1000;">
            <button onclick="openGoogleMaps()" style="background: #4285f4; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.3);">
              üåç View in Google Maps
            </button>
          </div>
        </div>
        
        <h3>üéØ Our Services</h3>
        <ul class="footer-services">
          <li>Direct sourcing from local farmers</li>
          <li>Quality control and packaging</li>
          <li>Distribution and logistics</li>
          <li>Wholesale and retail supply</li>
          <li>Agricultural consulting</li>
          <li>Farmer support programs</li>
        </ul>

        <div class="developer-credit">
          <h4>üë®‚Äçüíª Developer Info</h4>
          <p><strong>Leo Tito Mwahalende</strong></p>
          <p>Full-Stack Developer | Electronics & Communication Engineer</p>
          <p>üìç Dar es Salaam, Tanzania</p>
          <p>üéì BSc in Electronics Science and Communication (UDSM, 2022‚Äì2025)</p>
          <p>üìß leomwahalende@gmail.com | ‚òéÔ∏è +255 686 962 149</p>
          <p>üîó LinkedIn | GitHub</p>
          <p>Developer of this platform, passionate about tech solutions that empower local industries and improve access through innovation.</p>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 XIN Agricultural Investment. All rights reserved. | Developed with ‚ù§Ô∏è by Leo Tito Mwahalende</p>
    </div>
  </footer>
</body>
</html>
